<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>我的测试页面</title>
	<link rel="stylesheet" href="">
</head>
<body>
<script>
function inherit(p) {
	if(p==null) throw TypeError();
	if(Object.create) {
		return Object.create(p);
	}
	var t = typeof p;
	if(t !== 'Object' && t !== 'function')  throw TypeError();
	function f() {};
	f.prototype = p;
	return new f();
}

	var p = {
		x: 1.0,
		y: 2.0,
		get r() {return Math.sqrt(this.x * this.x + this.y * this.y);},
		set r(newValue) {
			var oldValue = Math.sqrt(this.x * this.x + this.y * this.y);
			var ratio = newValue/oldValue;
			this.x *= ratio;
			this.y *= ratio;
		},
		get theData() {
			return Math.atan2(this.y, this.x);
		}
	};

	var k = inherit(p);
	k.x = 1, k.y = 1;
	console.log(k.r);
	console.log(k.theData);

</script>
</body>
</html>